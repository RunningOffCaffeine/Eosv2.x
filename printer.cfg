[include mainsail.cfg]
[include spoolman.cfg]
[include leviathan_ext.cfg]
[include macros.cfg]

[display_status]

[pause_resume]
recover_velocity: 250

[exclude_object]

[save_variables]
filename: ~/printer_data/variables.cfg

[virtual_sdcard]
path: ~/printer_data/gcodes
    
[change_nozzle]

[auto_speed]

[firmware_retraction]

[respond]


[axis_twist_compensation]
calibrate_start_x: 50
calibrate_end_x: 300
calibrate_y: 175

calibrate_start_y: 50
calibrate_end_y: 300
calibrate_x: 175


[danger_options]
allow_plugin_override: True



# This file contains common pin mappings for the LDO Voron 2.4 Rev. D kit
# See docs/Config_Reference.md for a description of parameters.

## Voron Design VORON 2.4 250/300/350mm Leviathan V1.3 + Nitehawk-SB config

## *** THINGS TO CHANGE/CHECK: ***
## MCU paths                            [mcu] section
## Thermistor types                     [extruder] and [heater_bed] sections - See https://www.klipper3d.org/Config_Reference.html#common-thermistors for common thermistor types
## Z Endstop Switch location            [safe_z_home] section
## Z Endstop Switch  offset for Z0      [stepper_z] section
## Probe points                         [quad_gantry_level] section
## Min & Max gantry corner postions     [quad_gantry_level] section
## PID tune                             [extruder] and [heater_bed] sections
## Probe pin                            [probe] section
## Fine tune E steps                    [extruder] section

[mcu]
##  Obtain definition by "ls -l /dev/serial/by-id/" then unplug to verify
##--------------------------------------------------------------------
serial: /dev/serial/by-id/usb-Klipper_stm32h743xx_4B0036000651323439333335-if00
restart_method: command

[temperature_sensor Leviathan]
sensor_type: temperature_mcu
min_temp: 0
max_temp: 100
##--------------------------------------------------------------------

[mcu nhk]
##  Obtain definition by "ls -l /dev/serial/by-id/" then unplug to verify
##--------------------------------------------------------------------
serial: /dev/serial/by-id/usb-Klipper_rp2040_4E363334320B6BA0-if00
restart_method: command
##--------------------------------------------------------------------

# [mcu rpi]
# serial: /tmp/klipper_host_mcu

[temperature_sensor raspberry_pi]
sensor_type: temperature_host
min_temp: 0
max_temp: 100


[printer]
kinematics: limited_corexy
max_velocity: 750
max_accel: 20000
max_x_accel: 20000
max_y_accel: 10000
scale_xy_accel: True
max_z_velocity: 30          #Max 15 for 12V TMC Drivers, can increase for 24V (testing 40)
max_z_accel: 300
square_corner_velocity: 8.0

#####################################################################
#   X/Y Stepper Settings
#####################################################################

##  B0 Stepper - Left Rear
##  Connected to HV STEPPER 0
##  Endstop connected to NHK:X-ENDSTOP
[stepper_x]
step_pin: PB10
dir_pin: !PB11
enable_pin: !PG0
rotation_distance: 40
microsteps: 256
high_precision_step_compress: True

# LDO Kraken AWD
full_steps_per_rotation: 200  #set to 200 for 1.8 degree stepper

endstop_pin: tmc5160_stepper_x:virtual_endstop
position_min: 11
position_endstop: 350
position_max: 351
homing_speed: 100
homing_positive_dir: true
use_sensorless_homing: true
homing_retract_dist: 25

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc5160 stepper_x]
cs_pin: PE15
spi_software_mosi_pin = PE14
spi_software_miso_pin = PE13
spi_software_sclk_pin = PE12
interpolate: true
diag0_pin: ^!PG1
driver_SGT: 2
# LDO Kraken AWD
run_current: 2.235 # MOTOR peak 2.94A (75%), DRIVER peak 4.44A
home_current: 0.560
current_change_dwell_time: 0.5
sense_resistor: 0.075
stealthchop_threshold: 0


[temperature_sensor Motor_B0]
##  Temperature Sensor - TH2
## Check what thermistor type you have. See https://www.klipper3d.org/Config_Reference.html#common-thermistors for common thermistor types.
sensor_type: ATC Semitec 104GT-2
sensor_pin: PA0
min_temp: 0
max_temp: 300
pullup_resistor: 2200


##  A0 Stepper - Right Rear
##  Connected to HV STEPPER 1
##  Endstop connected to NHK:Y-ENDSTOP
[stepper_y]
step_pin: PF15
dir_pin: !PF14
enable_pin: !PE9
rotation_distance: 40
microsteps: 256
high_precision_step_compress: True

# LDO Kraken AWD
full_steps_per_rotation: 200  #set to 200 for 1.8 degree stepper

endstop_pin: tmc5160_stepper_y:virtual_endstop
position_min: 0
position_endstop: 350
position_max: 351
homing_speed: 100
homing_positive_dir: true
use_sensorless_homing: true
homing_retract_dist: 25


##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc5160 stepper_y]
cs_pin: PE11
spi_software_mosi_pin = PE14
spi_software_miso_pin = PE13
spi_software_sclk_pin = PE12
interpolate: true
diag0_pin: ^!PE10
driver_SGT: 3
# LDO Kraken AWD
run_current: 2.235 # MOTOR peak 2.94A (75%), DRIVER peak 4.44A
home_current: 0.560
current_change_dwell_time: 0.5
sense_resistor: 0.075
stealthchop_threshold: 0


[temperature_sensor Motor_A0]
##  Temperature Sensor - TH3
## Check what thermistor type you have. See https://www.klipper3d.org/Config_Reference.html#common-thermistors for common thermistor types.
sensor_type: ATC Semitec 104GT-2
sensor_pin: PA3
min_temp: 0
max_temp: 300
pullup_resistor: 2200

 
#####################################################################
#   Z Stepper Settings
#####################################################################

## Z0 Stepper - Front Left
##  Connected to STEPPER 0
##  Endstop connected to Z-ENDSTOP
[stepper_z]
step_pin: PD4
dir_pin: !PD3
enable_pin: !PD7
rotation_distance: 40
gear_ratio: 80:16  
microsteps: 128

# Beacon Endstop
endstop_pin: probe:z_virtual_endstop # use beacon as virtual endstop
homing_retract_dist: 0 # beacon needs 0

#  Uncomment below for 350mm build
position_max: 330

position_min: -10
homing_speed: 5
second_homing_speed: 1

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc2209 stepper_z]
uart_pin: PD5
# diag_pin: ^!PD6
interpolate: false
run_current: 1.287 # MOTOR/DRIVER peak 1.96A (65%)
sense_resistor: 0.110
stealthchop_threshold: 1000

##  Z1 Stepper - Rear Left
##  Connected to STEPPER 1
[stepper_z1]
step_pin: PC12
dir_pin: PC11
enable_pin: !PD2
rotation_distance: 40
gear_ratio: 80:16 
microsteps: 128

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc2209 stepper_z1]
uart_pin: PD0
# diag_pin: ^!PD1
interpolate: false
run_current: 1.287 # MOTOR/DRIVER peak 1.96A (65%)
sense_resistor: 0.110
stealthchop_threshold: 1000

##  Z2 Stepper - Rear Right
##  Connected to STEPPER 2
[stepper_z2]
step_pin: PC9
dir_pin: !PC8
enable_pin: !PC10
rotation_distance: 40
gear_ratio: 80:16 
microsteps: 128

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc2209 stepper_z2]
uart_pin: PA8
# diag_pin: ^!PA15
interpolate: false
run_current: 1.287 # MOTOR/DRIVER peak 1.96A (65%)
sense_resistor: 0.110
stealthchop_threshold: 1000

##  Z3 Stepper - Front Right
##  Connected to STEPPER 3
[stepper_z3]
step_pin: PG7
dir_pin: PG6
enable_pin: !PC7
rotation_distance: 40
gear_ratio: 80:16 
microsteps: 128

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc2209 stepper_z3]
uart_pin: PG8
# diag_pin: ^!PC6
interpolate: false
run_current: 1.287 # MOTOR/DRIVER peak 1.96A (65%)
sense_resistor: 0.110
stealthchop_threshold: 1000

#####################################################################
#   Extruder
#####################################################################

##  Connected to STEPPER 0
##  Heater - HEATER
##  Thermistor - TH0
[extruder]
step_pin: nhk:gpio23
dir_pin: nhk:gpio24
enable_pin: !nhk:gpio25
##  Update value below when you perform extruder calibration
##  If you ask for 100mm of filament, but in reality it is 98mm:
##  rotation_distance = <previous_rotation_distance> * <actual_extrude_distance> / 100
##  22.6789511 is a good starting point
rotation_distance: 22.355694092196   #Bondtech 5mm Drive Gears
##  Update Gear Ratio depending on your Extruder Type
##  Use 50:10 for Stealthburner/Clockwork 2 <---
##  Use 50:17 for Afterburner/Clockwork (BMG Gear Ratio)
##  Use 80:20 for M4, M3.1
gear_ratio: 50:10               #BMG Gear Ratio
microsteps: 16
full_steps_per_rotation: 200    #200 for 1.8 degree, 400 for 0.9 degree
nozzle_diameter: 0.400
filament_diameter: 1.75
heater_pin: nhk:gpio9
## Check what thermistor type you have. See https://www.klipper3d.org/Config_Reference.html#common-thermistors for common thermistor types.
## Use "Generic 3950" for NTC 100k 3950 thermistors
sensor_type: ATC Semitec 104NT-4-R025H42G
sensor_pin: nhk:gpio29
pullup_resistor: 2200
min_temp: 10
max_temp: 310
max_power: 1.0
min_extrude_temp: 10
max_extrude_only_distance: 201
max_extrude_cross_section: 10

control: mpc
heater_power: 40 # watts
cooling_fan: fan
filament_diameter: 1.75
filament_density: 1.24  # Changes with Filament
filament_heat_capacity: 1.8  # Changes with Filament

# ##  Try to keep pressure_advance below 1.0
pressure_advance: 0.05
# ##  Default is 0.040, leave stock
pressure_advance_smooth_time: 0.020

# ## Kalico Nonlinear PA Configuration
# pressure_advance_model: tanh
# linear_advance: 0.05450
# nonlinear_offset: 0.286
# linearization_velocity: 1
# pressure_advance_smooth_time: 0.020
# # pressure_advance_time_offset: 0

##  E0 on MOTOR6
##  Connected to STEPPER 4
[tmc2209 extruder]
uart_pin: nhk:gpio0
tx_pin: nhk:gpio1
interpolate: false
run_current: 0.65 # peak 0.98 (66%)
sense_resistor: 0.100
stealthchop_threshold: 0


#####################################################################
#   Bed Heater
#####################################################################

[heater_bed]
##  SSR Pin - HEATBED
##  Thermistor - TH1
heater_pin: PG11
sensor_type: ATC Semitec 104NT-4-R025H42G
sensor_pin: PA2
pullup_resistor: 2200
##  Adjust Max Power so your heater doesn't warp your bed. Rule of thumb is 0.4 watts / cm^2 .
max_power: 0.8
min_temp: 0
max_temp: 120
pwm_cycle_time: 0.04

control: pid
pid_kp: 55.527
pid_ki: 2.783
pid_kd: 276.940

# control: mpc
# heater_power: 750
# cooling_fan: chamber_filter


[verify_heater heater_bed]
check_gain_time: 120

# [temperature_sensor top_bed]
### 
# sensor_type: ATC Semitec 104NT-4-R025H42G
# sensor_pin: nhk:gpio28
#min_temp: 0
#max_temp: 120
#gcode_id: bed_top

#####################################################################
#   Probe
#####################################################################

# [probe]
# ##  Inductive Probe - ORMERON
# ##  Connected to Z-PROBE
# ##  This probe is not used for Z height, only Quad Gantry Leveling
# pin: nhk:gpio10
# x_offset: 0
# y_offset: 25.0
# #z_offset: 0
# speed: 1.0 # 1 mm/sec
# samples: 3
# samples_result: average
# sample_retract_dist: 2.0
# samples_tolerance: 0.01
# samples_tolerance_retries: 5

# [dockable_probe]
# ## Klicky Probe
# pin: nhk:gpio10
# x_offset: 0
# y_offset: 25.0
# z_offset: 1.4
# samples: 3 
# samples_result: average
# sample_retract_dist: 3.0
# samples_tolerance: 0.015
# samples_tolerance_retries: 5
# drop_first_result: True
# # probing_speed: 15
# # probing_second_speed: 5 
# dock_position: 44,350
# approach_position: 44,325
# detach_position: 100,350
# travel_speed: 100
# attach_speed: 25
# detach_speed: 50
# z_hop: 15
# check_open_attach: True

[beacon]
serial: /dev/serial/by-id/usb-Beacon_Beacon_RevH_03B4D66C5154354D38202020FF0A2E1F-if00
x_offset: 0  # update with offset from nozzle on your machine
y_offset: 28 # update with offset from nozzle on your machine
# backlash_comp: 0.01
speed: 2
mesh_main_direction: x
mesh_runs: 2

accel_axes_map: z, -y, -x

# Beacon contact z-offset configs
contact_max_hotend_temperature: 300 # increase to probe at print temps
contact_mesh_min: 30, 70
contact_mesh_max: 325, 325

home_xy_position: 175,175 # update with your safe position
home_y_before_x: true
home_z_hop: 5
home_z_hop_speed: 30
home_xy_move_speed: 125
home_method: contact # use contact for first home
home_method_when_homed: proximity # after initial calibration use induction
home_autocalibrate: unhomed # contact will calibrate beacon on first home
autocal_tolerance: 0.01 # 0.008 std
autocal_max_retries: 10


#####################################################################
#   Fan Control
#####################################################################

[fan]
##  Print Cooling Fan - FAN0
pin: nhk:gpio6
##tachometer_pin: PB0
kick_start_time: 0.5
cycle_time: 0.01666 # PWM Frequency (60hz USA)
##  Depending on your fan, you may need to increase this value
##  if your fan will not start. Can change cycle_time (increase)
##  if your fan is not able to slow down effectively

[heater_fan hotend_fan]
##  Hotend Fan - FAN1
pin: nhk:gpio5
#tachometer_pin: PB4
max_power: 1.0
kick_start_time: 0.5
heater: extruder
heater_temp: 50.0
cycle_time: 0.01666 # PWM Frequency (60hz USA)
##  If you are experiencing back flow, you can reduce fan_speed
#fan_speed: 1.0

[controller_fan MCU_fan]
##  Controller fan - FAN2
pin: PF7
##tachometer_pin: PF6
kick_start_time: 0.5
max_power: 0.75
cycle_time: 0.01666 # PWM Frequency (60hz USA)
heater: heater_bed

[fan_generic chamber_filter]
##  Exhaust fan - FAN3
pin: PF9
#tachometer_pin: PF8
max_power: 1.0
shutdown_speed: 0.0
kick_start_time: 5.0
cycle_time: 0.01666 # PWM Frequency (60hz USA)
# heater: heater_bed
# heater_temp: 60
# fan_speed: 0.0

#####################################################################
#   Filament sensor
#####################################################################

#[filament_switch_sensor Filament]
#pause_on_runout: True
#runout_gcode: M600
#insert_gcode:
#event_delay: 3.0
#pause_delay: 0.5
#switch_pin: !PC0

#####################################################################
#   LED Control
#####################################################################

## Chamber Lighting (Optional)
## Connected to LED-STRIP
[output_pin caselight]
pin: PE6
pwm: True
value: 1.0 # Startup value
shutdown_value: 0
cycle_time: 0.01666 # PWM Frequency (60hz USA)

## Stealthburner NEOPIXEL LED
## Connected to NEOPIXEL (nitehawk sb)
[neopixel rgb_light]
pin: nhk:gpio7
chain_count: 3
color_order: GRBW
initial_RED: 1.0
initial_GREEN: 0.0
initial_BLUE: 0.933
initial_WHITE: 0.0

## Connected to led (nitehawk sb)
[output_pin pcb_led]
pin: !nhk:gpio8


#####################################################################
#   Accelerometer
#####################################################################
# [adxl345]
# axes_map: -z,-y,-x
# cs_pin: nhk:gpio21
# spi_software_sclk_pin: nhk:gpio18
# spi_software_mosi_pin: nhk:gpio20
# spi_software_miso_pin: nhk:gpio19

# [resonance_tester]
# accel_chip: adxl345
# probe_points:
#     175, 175, 100

[resonance_tester]
accel_chip: beacon
accel_per_hz: 100
sweeping_accel: 400
sweeping_period: 0
##--------------------------------------------------------------------
## Uncomment below for 250mm build
#probe_points: 125, 125, 20

## Uncomment below for 300mm build
#probe_points: 155, 155, 20

## Uncomment below for 350mm build
probe_points: 175, 175, 20

##--------------------------------------------------------------------
    
    
#####################################################################
#   TH
# #####################################################################

[temperature_sensor Chamber]
## Chamber Temperature - T1
sensor_type: ATC Semitec 104NT-4-R025H42G
sensor_pin: nhk:gpio28
min_temp: 0
max_temp: 100
gcode_id: chamber_th

[thermistor CMFB103F3950FANT]
temperature1: 0.0
resistance1: 32116.0
temperature2: 40.0
resistance2: 5309.0
temperature3: 80.0
resistance3: 1228.0

[temperature_sensor Nitehawk]
## Nitehawk PCB Sensor
sensor_type: CMFB103F3950FANT
sensor_pin: nhk:gpio26
pullup_resistor: 2200
min_temp: 0
max_temp: 100
gcode_id: nh_th


#####################################################################
#   Homing and Gantry Adjustment Routines
#####################################################################

[idle_timeout]
timeout: 3600

# [safe_z_home]
# #  XY Location of the Z Endstop Switch
# #  Update -10,-10 to the XY coordinates of your endstop pin 
# #  (such as 157,305) after going through Z Endstop Pin
# #  Location Definition step.
# home_xy_position: 233.000, 349.000
# speed: 100
# z_hop: 10

# [z_calibration]
# nozzle_xy_position: 233,350
# switch_xy_position: 233,325
# bed_xy_position: 175,175
# switch_offset: 0.5
# samples_tolerance: 0.0075
# # clearance: 10
# probing_first_fast: True


##  Use QUAD_GANTRY_LEVEL to level a gantry.
##  Min & Max gantry corners - measure from nozzle at MIN (0,0) and 
##  MAX (250, 250), (300,300), or (350,350) depending on your printer size
##  to respective belt positions

[quad_gantry_level]
# #  Gantry Corners for 350mm Build
# #  Uncomment for 350mm build
# gantry_corners:
#     -60,-10
#     410,420

gantry_corners:
    -71.7193, -42.1093
    423.6409, 407.3017

#  Probe points
points:
    75,  75
    75,  275
    275, 275
    275, 75
    
speed: 350
horizontal_move_z: 5
retries: 10
retry_tolerance: 0.0050 ## 0.0075 standard
max_adjust: 10.0
adaptive_horizontal_move_z: True
min_horizontal_move_z: 0.0


[bed_mesh]
# speed: 650
speed: 550
horizontal_move_z: 5
mesh_min: 25, 70
mesh_max: 325,325
zero_reference_position: 175, 175 # Bed Center
fade_start: 1.0
fade_end: 10.0
probe_count: 50, 50
mesh_pps: 2, 2
algorithm: bicubic
bicubic_tension: 0.2
move_check_distance: 3
split_delta_z: 0.1
adaptive_margin: 3
# faulty_region_1_min: 0, 0
# faulty_region_1_max: 60, 70
# faulty_region_2_min: 290, 0
# faulty_region_2_max: 350, 70


##--------------------------------------------------------------------

########################################
# EXP1 / EXP2 (display) pins
########################################

[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PG9, EXP1_2=PG12,
    EXP1_3=PG13, EXP1_4=PG14,
    EXP1_5=PC13, EXP1_6=PC14,    # Slot in the socket on this side
    EXP1_7=PC15, EXP1_8=PF0,
    EXP1_9=<GND>, EXP1_10=<5V>,
    
    # EXP2 header
    EXP2_1=PA6, EXP2_2=PA5,
    EXP2_3=PE2, EXP2_4=PE4,
    EXP2_5=PE3, EXP2_6=PA7,      # Slot in the socket on this side
    EXP2_7=PE5, EXP2_8=<RST>,
    EXP2_9=<GND>, EXP2_10=PE4
    
    #####################################################################
    #   Displays
    #####################################################################
    
    ##  Uncomment the display that you have
    #--------------------------------------------------------------------
    
    #[display]
    ##  RepRapDiscount 128x64 Full Graphic Smart Controller
    #lcd_type: st7920
    #cs_pin: EXP1_4
    #sclk_pin: EXP1_5
    #sid_pin: EXP1_3
    #menu_timeout: 40
    #encoder_pins: ^EXP2_5, ^EXP2_3
    #click_pin: ^!EXP1_2
    
    #[output_pin beeper]
    #pin: EXP1_1
    
    #--------------------------------------------------------------------
    
    #[display]
    ##  mini12864 LCD Display
    #lcd_type: uc1701
    #cs_pin: EXP1_3
    #a0_pin: EXP1_4
    #rst_pin: EXP1_5
    #encoder_pins: ^EXP2_5, ^EXP2_3
    #click_pin: ^!EXP1_2
    #contrast: 63
    #spi_software_miso_pin: EXP2_1
    #spi_software_mosi_pin: EXP2_6
    #spi_software_sclk_pin: EXP2_2
    
    #[neopixel btt_mini12864]
    ##  To control Neopixel RGB in mini12864 display
    #pin: EXP1_6
    #chain_count: 3
    #initial_RED: 0.1
    #initial_GREEN: 0.5
    #initial_BLUE: 0.0
    #color_order: RGB
    
    ##  Set RGB values on boot up for each Neopixel.
    ##  Index 1 = display, Index 2 and 3 = Knob
    #[delayed_gcode setdisplayneopixel]
    #initial_duration: 1
    #gcode:
    #        SET_LED LED=btt_mini12864 RED=1 GREEN=1 BLUE=1 INDEX=1 TRANSMIT=0
    #        SET_LED LED=btt_mini12864 RED=1 GREEN=0 BLUE=0 INDEX=2 TRANSMIT=0
    #        SET_LED LED=btt_mini12864 RED=1 GREEN=0 BLUE=0 INDEX=3
    
    #--------------------------------------------------------------------

[shaketune]
# result_folder: ~/printer_data/config/ShakeTune_results
#    Path where the processed results will be stored. If the folder doesn't exist,
#    it will be automatically created. You can change this if you'd like to store 
#    results in a different location.
# number_of_results_to_keep: 10
#    This setting defines how many results you want to keep in the result folder.
#    Once the specified number is exceeded, older results will be automatically deleted
#    to free up space on the SD card and avoid cluttering the results folder.
# keep_raw_data: False
#    If set to True, Shake&Tune will store both the processed graphs and the raw accelerometer
#    .stdata files in the results folder. This can be useful for debugging or archiving purposes.
#    Please always attach them when reporting any issues on GitHub or Discord.
# show_macros_in_webui: True
#    Mainsail and Fluidd doesn't create buttons for system commands (macros that are not part
#    of the printer.cfg file). This option allow Shake&Tune to inject them into the webui at runtime.
#    If set to False, the macros will be hidden but still accessible from the console by typing
#    their names manually, which can be useful if you prefer to encapsulate them into your own macros.
# timeout: 600
#    This defines the maximum processing time (in seconds) to allows to Shake&Tune for generating 
#    graphs from a .stdata file. 10 minutes should be more than enough in most cases, but if you have
#    slower hardware (e.g., older SD cards or low-performance devices), increase it to prevent timeouts.
# measurements_chunk_size: 2
#    Each Shake&Tune command uses the accelerometer to take multiple measurements. By default,
#    Shake&Tune will write a chunk of data to disk every two measurements, and at the end of the
#    command will merge these chunks into the final .stdata file for processing. "2" is a very
#    conservative setting to avoid Klipper Timer Too Close errors on lower end devices with little
#    RAM, and should work for everyone. However, if you are using a powerful computer, you may
#    wish to increase this value to keep more measurements in memory (e.g., 15-20) before writing
#    the chunk and avoid stressing the filesystem too much.
# max_freq: 200
#    This setting defines the maximum frequency at which the calculation of the power spectral density
#    is cutoff. The default value should be fine for most machines and accelerometer combinations and
#    avoid touching it unless you know what you're doing.
# dpi: 300
#    Controls the resolution of the generated graphs. The default value of 300 dpi was optimized
#    and strikes a balance between performance and readability, ensuring that graphs are clear
#    without using too much RAM to generate them. Usually, you shouldn't need to change this value.

[input_shaper]
enabled_extruders: extruder
#shaper_freq_x: 55.8    # center frequency for the X axis filter
#shaper_type_x: mzv     # filter type for the X axis
#shaper_freq_y: 44.8    # center frequency for the Y axis filter
#shaper_type_y: mzv     # filter type for the Y axis


# [autotune_tmc stepper_x]
# motor: ldo-42sth60-3004ah  # LDO Kraken v2.0 S37
# voltage: 24
# tuning_goal: performance
# sgt: 0

# [autotune_tmc stepper_x1]
# motor: ldo-42sth60-3004ah  # LDO Kraken v2.0 S37
# voltage: 24
# tuning_goal: performance
# sgt: 0


# [autotune_tmc stepper_y]
# motor: ldo-42sth60-3004ah  # LDO Kraken v2.0 S37
# voltage: 24
# tuning_goal: performance
# sgt: 0

# [autotune_tmc stepper_y1]
# motor: ldo-42sth60-3004ah  # LDO Kraken v2.0 S37
# voltage: 24
# tuning_goal: performance
# sgt: 0


[autotune_tmc stepper_z]
motor: ldo-42sth48-2004ac
voltage: 24
tuning_goal: auto
# ## Coolstep configuration
# sg4_thrs: 80      # Coolstep threshold to increase current (0 is lowest sensitivity, 255 is highest)
# semin: 2          # Coolstep lower threshold for decreasing current
# semax: 4          # Coolstep upper threshold for decreasing current
# sedn: 3           # Number of StallGuard readings above the upper threshold before reducing current
# seup: 2           # Number of StallGuard readings below the lower threshold before increasing current
# seimin: 1         # Lower motor current limit (scaling of run_current: 0=50%, 1=25%)
[autotune_tmc stepper_z1]
motor: ldo-42sth48-2004ac
voltage: 24
tuning_goal: auto
# ## Coolstep configuration
# sg4_thrs: 80      # Coolstep threshold to increase current (0 is lowest sensitivity, 255 is highest)
# semin: 2          # Coolstep lower threshold for decreasing current
# semax: 4          # Coolstep upper threshold for decreasing current
# sedn: 3           # Number of StallGuard readings above the upper threshold before reducing current
# seup: 2           # Number of StallGuard readings below the lower threshold before increasing current
# seimin: 1         # Lower motor current limit (scaling of run_current: 0=50%, 1=25%)
[autotune_tmc stepper_z2]
motor: ldo-42sth48-2004ac
voltage: 24
tuning_goal: auto
# ## Coolstep configuration
# sg4_thrs: 80      # Coolstep threshold to increase current (0 is lowest sensitivity, 255 is highest)
# semin: 2          # Coolstep lower threshold for decreasing current
# semax: 4          # Coolstep upper threshold for decreasing current
# sedn: 3           # Number of StallGuard readings above the upper threshold before reducing current
# seup: 2           # Number of StallGuard readings below the lower threshold before increasing current
# seimin: 1         # Lower motor current limit (scaling of run_current: 0=50%, 1=25%)
[autotune_tmc stepper_z3]
motor: ldo-42sth48-2004ac
voltage: 24
tuning_goal: auto
# ## Coolstep configuration
# sg4_thrs: 80      # Coolstep threshold to increase current (0 is lowest sensitivity, 255 is highest)
# semin: 2          # Coolstep lower threshold for decreasing current
# semax: 4          # Coolstep upper threshold for decreasing current
# sedn: 3           # Number of StallGuard readings above the upper threshold before reducing current
# seup: 2           # Number of StallGuard readings below the lower threshold before increasing current
# seimin: 1         # Lower motor current limit (scaling of run_current: 0=50%, 1=25%)

[autotune_tmc extruder]
motor: ldo-36sth20-1004ahg
voltage: 24
tuning_goal: auto

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*#
#*# [extruder]
#*# block_heat_capacity = 4.57586
#*# sensor_responsiveness = 0.0956491
#*# ambient_transfer = 0.0316739
#*# fan_ambient_transfer = 0.0316739, 0.0428495, 0.0540976
#*#
#*# [probe]
#*#
#*# [beacon model default]
#*# model_coef = 1.549911833549002,
#*# 	  1.8858262879194283,
#*# 	  0.7644115982326013,
#*# 	  0.3486156691851234,
#*# 	  0.3693535235727979,
#*# 	  0.34458018630676784,
#*# 	  -0.22807043410185243,
#*# 	  -0.30547046384579996,
#*# 	  0.14530775716797334,
#*# 	  0.13083645442038117
#*# model_domain = 1.8657177327507012e-07,1.9379422444046263e-07
#*# model_range = 0.200104,5.000104
#*# model_temp = 44.936398
#*# model_offset = 0.00000
#*#
#*# [input_shaper]
#*# shaper_type_x = smooth_2hump_ei
#*# shaper_freq_x = 60.9
#*# shaper_type_y = mzv
#*# shaper_freq_y = 72.5
#*# damping_ratio_x = 0.045
#*# damping_ratio_y = 0.052
